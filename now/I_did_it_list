stduy flatten machanism: ipy /home/zen/local_study/debug_flatten.py
having more conversation with WenChao
